<!doctype html>
<html>
   <head>
      <meta charset="UTF-8">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <title>Maharashtra Ophthalmological Society</title>
      <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
      <link href="static/css/register_style.css" rel="stylesheet">
   </head>
   <body>
      <div class="row header">
         <div class="container">
            <div class="row align-items-center">
               <div class="col-md-6 col-sm-12">
                  <img src="static/images/mos2021/mos_logo.png" alt="logo" class="brand img-fluid">
               </div>
               <div class="col-md-6 col-sm-12">
                  <img class="img-fluid" src="static/images/mos2021/MOS_VIRCON_2021.png" alt="logo" class="brand img-fluid float-lg-right" >
               </div>
            </div>
         </div>
      </div>
      <div class="row mt-3">
         <div class="container">
            <form id="registration_form" method="POST" action="{{url_for('user.PostRegister')}}"> 
            <div class="row">
               
               <div class="col-md-4 offset-md-4 col-sm-10 offset-sm-1 box p-4 form-container">
                  
                  <div class="row">
                     <div class="col-md-12">
                       {% for mesg in get_flashed_messages() %}
                         <div class="alert alert-danger" id="successMessage" style="color: red; text-align: center;">
                           <h4>{{ mesg }}</h4>
                         </div>
                       {% endfor %}
                    </div>
                  </div>

                  <h4 class="text-center">Registration  </h4>

                  <div class="row">
                     <div class="col-md-12">
                        <div class="form-group">
                           <label>Email <span class="mand">*</span> <br/>(This will be your login id. The registration confirmation email will be sent to this email id) </label>
                           <input type="email" class="form-control" name="email" id="email" placeholder="Enter email-id" value="{{email}}"  required>
                        </div>
                     </div>
                  </div>
                  <div class="row">
                     <div class="col-md-12">
                        <div class="form-group">
                           <label>Prefix <span class="mand">*</span></label>
                          {% set prefix_val = prefix %}
                           {% if prefix : %}
                           <select class="form-control w-100" id="prefix" name = "prefix" >
                                 <option value = "" id = "select"> Select  Prefix</option>
                                 <option value = "Mr."> Mr. </option>
                                 <option value = "Mrs."> Mrs. </option>
                                 <option value = "Dr." selected> Dr. </option>
                                 <option value = "Ms."> Ms. </option>
                                 <option value = "Prof."> Prof. </option>
                                 <option value = "Others"> Others </option>
                           </select>

                           {% else: %}
                           <select class="form-control w-100" id="prefix" name = "prefix" >
                                 <option value = "" id = "select"> Select  Prefix</option>
                                 <option value = "Mr."> Mr. </option>
                                 <option value = "Mrs."> Mrs. </option>
                                 <option value = "Dr." selected> Dr. </option>
                                 <option value = "Ms."> Ms. </option>
                                 <option value = "Prof."> Prof. </option>
                                 <option value = "Others"> Others </option>
                           </select>

                           {% endif %}

                            
                        </div>
                     </div>
                  </div>


                  <div class="row">
                     <div class="col-md-12">
                        <div class="form-group">
                           <label>Full Name <span class="mand">*</span></label>
                           <input type="text" class="form-control" id="name" name="name" value="{{name}}" placeholder="Enter full name" required>
                           <span class="error" name="nameerror" id="nameerror"></span>
                        </div>
                     </div>
                  </div>
                  
                  <div class="row">
                     <div class="col-md-12">
                        <div class="form-group">
                           <label>Mobile <span class="mand">*</span></label>
                           <input type="text" class="form-control" id="mobile" name="mobile" value="{{mobile}}" onkeypress="return isNumberKey(event)"  placeholder="Enter mobile" >
                           <span class="error" name="mobileerror" id="mobileerror"></span>
                        </div>
                     </div>
                  </div>

                  <div class="row">
                     <div class="col-md-12">
                        <div class="form-group">
                           <label>City <span class="mand">*</span></label>
                           <input type="text" class="form-control" id="city" name="city" value="{{city}}" placeholder="Enter city" >
                           <span class="error" name="city" id="city"></span>
                        </div>
                     </div>
                  </div>

                  <div class="row">
                     <div class="col-md-12">
                        <div class="form-group">
                           <label>State <span class="mand">*</span></label>
                           <input type="text" class="form-control" id="state" name="state" value="{{state}}" placeholder="Enter state" >
                           <span class="error" name="stateerror" id="stateerror"></span>
                        </div>
                     </div>
                  </div>
                  <hr/>
                  <h6>Please provide your accurate medical council registration details for credit points from Maharashtra Medical Council. (Only for applicable medical council registration numbers)</h6>
                  <div class="row">
                     <div class="col-md-12">
                        <div class="form-group">
                           <label>Medical council number <span class="mand">*</span></label>
                           <input type="text" class="form-control" id="mcn_number" name="mcn_number" value="{{mcn_number}}" placeholder="Medical council number">
                           <span class="error" name="mcn_numbererror" id="mcn_numbererror"></span> 
                        </div>
                     </div>
                  </div>
                  
                  <!--  -->
                  <div class="row">
                     <div class="col-md-12">
                        <div class="form-group">
                           <label>Medical council state <span class="mand">*</span></label>
                            <select class="form-control w-100 mc_state"  name = "mc_state" >
                                 <option value = "Maharashtra" selected>Maharashtra</option>
                                 <option value = "Others"> Others </option>
                           </select>
                        </div>
                     </div>
                  </div>
                  <!--  -->

                  <div class="row">
                     <div class="col-md-12">
                        <div class="form-group">
                           <input type="text" class="form-control mc_state" id="mc_state"  name="mc_state_txt" placeholder="Medical council state" style="display: none;" required>
                           <span class="error" name="mc_stateerror" id="mc_stateerror"></span> 
                        </div>
                     </div>
                  </div>



                  <button type="submit" class="btn btn-primary btn-lg btn-block text-uppercase" id="submit_btn">REGISTER</button>
               </div>
            </div>
            </form> 

         </div>
      </div>
      <!-- <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script> 
      <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script> -->

            
   </body>

    <script src="{{'/static/js/jquery.min.js'}}"  crossorigin="anonymous"></script>
    <script src="{{'/static/js/bootstrap.min.js'}}"  crossorigin="anonymous"></script>
    <script src="{{'/static/js/popper.min.js'}}"  crossorigin="anonymous"></script>
    <script src="{{'/static/js/jquery.validate.min.js'}}"  crossorigin="anonymous"></script>

    
         


      <script type="text/javascript">
         $(document).ready(function()
           {
              validate_register_form()

              $(".mc_state").change(function (evt) {
                // var mc_state = $(this).val();
                var mc_state = $(".mc_state").val(); 
                if (mc_state =="Others") {
                    $("#mc_state").show();
                   }
                   else{
                    $("#mc_state").hide();
                   }
                  
                 });
            }); 
            
            
                function isNumberKey(evt)
                 {
                   var charCode = (evt.which) ? evt.which : evt.keyCode
                   if (charCode > 31 && (charCode < 48 || charCode > 57))
                      return false;
                   return true;
                  }

          function validate_register_form()
         {
         
             errorclass : 'error',
         
             $("#registration_form").validate({
               rules : {
                     prefix : "required",
                     name : "required",
                     city : "required",
                     email : {
                         required : true,
                         email : true
                     },
                     mobile : {
                         required : true,
                         minlength : 1,
                         maxlength : 15
                     },
                     mcn_number : "required",
                     mc_state : "required",
                     state : "required",
                     
                 },
         
                 messages : {
                     prefix : "Please select the Prefix",
                     name : "Please enter the Name",
                     city : "Please enter the City",
                     email : {
                         required : "Please enter the Email id",
                         email : "Please enter valid Email Id"
                     },
                     mobile : {
                         required : "Please enter Mobile number",
                         maxlength : "Mobile number provided is too long"
                     },
                     mcn_number : "Please enter Medical Council Number",
                     mc_state : "Please enter Medical Council State",
                     state : "Please enter the State",
                     
                 },
                 // highlight: function(element) {
                 //     $(element).parent().addClass('error')
                 // },
             
                 // unhighlight: function(element) {
                 //     $(element).parent().removeClass('error')
                 // },
         
                 // submitHandler: function(form) {
                 //     form.submit();
                 // }
             })
                
         } 
         </script> 
</html>